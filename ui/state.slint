struct Playlist {
    name: string,
    id: string,
    cover-art: image,
}

export struct Track {
    title: string,
    id: string,
    duration: int,
    artist: string,
    album: string,
    cover-art: image,
}

export global WindowState {
    callback start-drag();
    callback close-window();
    callback initialize-app();
}

export global AuthenticationState {
    in property <bool> loading: true;
    in property <bool> loggedIn: false;
    in property <bool> login-in-progress: false;
    callback login-clicked();
}

export global PlayerState {
    in property <bool> is-playing: false;
    in property <string> song-title: "Nothing Playing";
    in property <image> album-art: @image-url("../resources/album-art-placeholder.svg");
    in property <string> album: "";
    in property <string> artist-name: "";
    in property <string> composer: "";
    in property <int> current-time: 0; // in ms
    in property <int> music-duration: 0; // in ms
    in property <float> volume: 1.0; // 0.0 to 1.0
    callback play();
    callback pause();
    callback volume-changed(float);
    callback next-clicked();
    callback previous-clicked();
    callback stop-clicked();
    callback shuffle-clicked();
    callback repeat-clicked();
    callback seek(int);
}

export global PlaylistsState {
    in property <Playlist> playlists;
    callback playlist-clicked(string);
    callback fetch-playlists();
    in property <bool> fetching-playlists: false;
    in property <string> current-playlist-id: "";
}

export global TracksState {
    in-out property <string> current-track-id: "";
    in property <bool> fetching-tracks: false;
    in property <[Track]> tracks: [];
    callback track-clicked(string);
    callback fetch-tracks(string);
    callback fetch-saved-tracks();
}
